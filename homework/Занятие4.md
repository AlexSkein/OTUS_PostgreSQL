# Отчет по домашке №4

1. создайте новый кластер PostgresSQL 14

    ```postgresql
    sudo pg_createcluster 14 main
    sudo pg_ctlcluster start 14 main
    ```
1. зайдите в созданный кластер под пользователем postgres
1. создайте новую базу данных testdb
1. зайдите в созданную базу данных под пользователем postgres
1. создайте новую схему testnm
1. создайте новую таблицу t1 с одной колонкой c1 типа integer
1. вставьте строку со значением c1=1
1. создайте новую роль readonly
1. дайте новой роли право на подключение к базе данных testdb
1. дайте новой роли право на использование схемы testnm
1. дайте новой роли право на select для всех таблиц схемы testnm
1. создайте пользователя testread с паролем test123
1. дайте роль readonly пользователю testread
1. зайдите под пользователем testread в базу данных testdb
1. сделайте select * from t1;
1. получилось? (могло если вы делали сами не по шпаргалке и не упустили один существенный момент про который позже)
1. напишите что именно произошло в тексте домашнего задания
1. у вас есть идеи почему? ведь права то дали?
1. посмотрите на список таблиц
1. подсказка в шпаргалке под пунктом 20
1. а почему так получилось с таблицей (если делали сами и без шпаргалки то может у вас все нормально)
1. вернитесь в базу данных testdb под пользователем postgres
1. удалите таблицу t1
1. создайте ее заново но уже с явным указанием имени схемы testnm
1. вставьте строку со значением c1=1
1. зайдите под пользователем testread в базу данных testdb
1. сделайте select * from testnm.t1;
1. получилось?
1. есть идеи почему? если нет - смотрите шпаргалку
1. как сделать так чтобы такое больше не повторялось? если нет идей - смотрите шпаргалку
1. сделайте select * from testnm.t1;
1. получилось?
1. есть идеи почему? если нет - смотрите шпаргалку
1. сделайте select * from testnm.t1;
1. получилось?
1. ура!
1. теперь попробуйте выполнить команду create table t2(c1 integer); insert into t2 values (2);
1. а как так? нам же никто прав на создание таблиц и insert в них под ролью readonly?
1. есть идеи как убрать эти права? если нет - смотрите шпаргалку
1. если вы справились сами то расскажите что сделали и почему, если смотрели шпаргалку - объясните что сделали и почему выполнив указанные в ней команды
1. теперь попробуйте выполнить команду create table t3(c1 integer); insert into t2 values (2);
1. расскажите что получилось и почему
